<%= form_tag({ :action => :find_route }, { :method => "get", :remote => true }) do %>
   <p class="routing_heading"><%= t'routing.basic.waypointlist' %></p>

   <table class="routing_waypointlist" cellspacing="0" cellpadding="0" border="0">
      <tr>
           <td class="routing_waypoint_element routing_waypoint_marker" valign="center">
              <a href="#" id="wp1"><%= image_tag("routing/departure.png", :border => 0, :width => 20) %></a>
           </td>
           <td class="routing_waypoint_element routing_waypoint_input" valign="center">
              <%= text_field_tag('wp1_display', nil, :size => 17, :style => "width: 100%") %>
           </td>
           <%= hidden_field_tag('wp1_lat') %>
           <%= hidden_field_tag('wp1_lon') %>
           <td class="routing_waypoint_element routing_delete_button" valign="center">
              <a href="#" id="wp1_delete">&times;</a>
           </td>
      </tr>
      <tr class="routing_waypoint">
         <td class="routing_waypoint_element_last routing_waypoint_marker" valign="center">
            <a href="#" id="wp2"><%= image_tag("routing/destination.png", :border => 0, :width => 20) %></a>
         </td>
         <td class="routing_waypoint_element_last routing_waypoint_input" valign="center">
            <%= text_field_tag('wp2_display', nil, :size => 17, :style => "width: 100%") %>
         </td>
         <%= hidden_field_tag('wp2_lat') %>
         <%= hidden_field_tag('wp2_lon') %>
         <td class="routing_waypoint_element_last routing_delete_button" valign="center">
            <a href="#" id="wp2_delete">&times;</a>
         </td>
      </tr>
   </table>
   <p class="routing_error_heading" id="error_type"></p> 
   <p class="routing_error_hint"    id="error_message"></p>
   <p class="routing_details" id="debug"></p>
   
   <p class="routing_heading"><%= t'routing.basic.engine.heading' %></p>
   <select name="engine">
     <option value="automatic"><%= t'routing.basic.engine.automatic' %></option>
     <option value="osrm"><%= t'routing.basic.engine.osrm' %></option>
     <option value="yours"><%= t'routing.basic.engine.yours' %></option>
     <option value="mapquest"><%= t'routing.basic.engine.mapquest' %></option>
     <option value="cloudmade"><%= t'routing.basic.engine.cloudmade' %></option>
   </select>

   <p class="routing_heading"><%= t'routing.basic.means.heading' %></p>

   <p class="routing_details">
      <%= radio_button_tag("means", "car", true) %> <%= t'routing.basic.means.car'     %> <br/>
      <%= radio_button_tag("means", "bicycle") %>   <%= t'routing.basic.means.bicycle' %> <br/>
      <%= radio_button_tag("means", "truck") %>     <%= t'routing.basic.means.truck'   %> <br/>
      <%= radio_button_tag("means", "feet") %>      <%= t'routing.basic.means.feet'    %>
   </p>
  
   <p class="routing_heading"><%= t'routing.basic.routing_mode.heading' %></p>

   <p class="routing_details">
      <br/>
      <%= radio_button_tag("mode", "fastest", true) %>  <%= t'routing.basic.routing_mode.fastest'  %> <br/>
      <%= radio_button_tag("mode", "shortest") %>       <%= t'routing.basic.routing_mode.shortest' %> 
   </p>

   <div class="routing_buttons">
      <p>
         <%= submit_tag t('routing.basic.routing_commit'), :id => "routing_commit" %>
      </p>
   </div>
   <p class="routing_details" id="engine" style="display: none;"></p>
   <div class="routing_details" id="busy_indicator" style="display: none;">
      <table align="center">
         <tr>
            <td valign="top"><%= image_tag("routing/searching.gif") %></td>
            <td valign="center"><%= t'routing.basic.calc_route' %></td>
         </tr>
      </table>
   </div>
   <p class="routing_details" id="distance" style="display: none;"></p>
<% end %>
